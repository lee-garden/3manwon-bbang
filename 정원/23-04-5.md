# 8 카프카 스트림즈 API
카프카는 처음에는 대규모 메시지를 저장하고 빠르게 처리하기 위해 만들어졌으나 강력한 성능으로 인해 일련의 연속된 메시지 스트림을 처리하는 데도 점차 사용되기 시작 했다.

## 8.1 스트림 프로세싱 기초
- 스트림 프로세싱과 배치 프로세싱
	- 스트림 프로세싱은 데이터들이 지속적으로 유입되고 나가는 과정에서 이 데이터에 대한 분석이나 질의를 수행하는 것
	- 데이터가 분석 시스템이나 프로그램에 도달하자마자 처리를 하기 때문에 스트림 프로세싱은 실시간 분석 이라고 불리기도 한다.
	- 배치 프로세싱은 이미 저장된 데이터를 기반으로 분석이나 질의를 수행하고 특정 시간에 처리하는 특징이 있다.
	- 스트림 처리는 지연시간이 거의 없고, 저장한 후 분석하지 않기 때문에 더 많은 데이터를 분석할 수 있다. 대규모 공유 데이터베이스에 대한 요구도 줄일 수 있어 인프라 독립적으로 수행 할 수 있다.
- 상태 기반과 무상태 스트림 처리
	- 상태 기반 처리: 이전 스트림을 처리한 결과를 참조 하면서 처리
	- 무상태 스트림 처리: 이전 스트림의 처리 결과와 관계 없이 현재 애플리케이션에 도달한 스트림만을 기준으로 처리

## 8.2 카프카 스트림즈
- 카프카 스트림즈는 카프카에 저장된 데이터를 처리하고 분석하기 위해 개발된 클라이언트 라이브러리 이다.
- 카프카 스트림즈는 시스템이나 카프카에 대한 의존성이 없다.
- 이중화된 로컬 상태 저장소를 지원 한다.
- 카프카 브로커나 클라이언트에 장애가 생기더라도 스트림에 대해선 1번만 처리 되도록 보장한다.
- 카프카 스트림즈는 스트림 처리를 하는 프로세서들이 서로 연결되어 형상을 만들어서 처리하는 API 이다.
	- 소스 프로세서: 위쪽으로 연결된 프로세서가 없는 프로세서. 이 프로세서는 하나 이상의 카프카 토픽에서 데이터 레코드를 읽어서 아래쪽 프로세서에 전달 한다.
	- 싱크 프로세서: 토폴로지 아래쪽에 프로세서가 없는것을 말한다. 상위 프로세서로부터 받은 데이터 레코드를 카프카 특정 토픽에 저장 한다.
