카프카 책을 읽엇습니다.

카프카 컨슘 전략도 잇습니다

- 컨슈머 많이 만들기 - 회사에서 대부분 아마도 쓰는 방식?

- 컨슈머 하나 띄우고 컨슘하고 해야할 일은 모두 다른 스레드로 위임
  장점: 간단하다. 그냥 쓰레드풀 만들고 뒤로 넘기면됨
  단점: 일단 컨슘했을때 무조건 커밋해버리기 때문에 그 이후 발생한 에러(리밸런싱, 장애)는 보정하기 힘들다
       컨슘 순서를 못지킬수도 있다. A 를 먼저 컨슘해도 나중에 컨슘한 B 가 먼저 처리될수도있음
- 멀티 쓰레드로 컨슈머를 여러개 띄우는 방식
  장점: 이것두 간단하다... 멀티 쓰레드로 컨슈머를 여러개 띄우는 것
  단점: 흠.. 이건 책에 없고 내 생각임
       일단 위에도 포함되는 내용인데 어플리케이션이 죽으면 영향을 모두 받음
       흠 배포전략도안먹히긴 하지...... 안먹히나?;;



배포 전략
 뭐.. 똑같습니다. 블루그린, 롤링, 카나리.. 
 지금우리가 쓰고잇는건 카나리
 하나의 컨슈머만 새로운 버전으로 바꾸기. 


스프링 카프카
 여러가지 컨슘 전략이 잘 있음
 여러개 한방에 땡기기, 땡기면 무조건 커밋하기, 일정시간마다 커밋하기, 몇개 땡기면 커밋하기, 메뉴얼 커밋등등.. 
 적당한 상황에 적당한걸 쓰면 괜찮을듯

 카프카 리스너 어노테이션도 잇네용




 양심고백합니다. 오늘 공부는 사실 적게(1.5시간....?) 했습니다.. 하하
